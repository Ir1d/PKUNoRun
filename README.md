# PKUNoRun

People who don't want to run, unite!

本项目旨在降低科技跑步的门槛, 让不懂计算机的同学也能拥有决定是否跑63km的自主权.

由于人手不足, 本项目暂时只能照顾安卓PKU Runner的用户, 且所有的用户界面都遵循最简原则.

如果您觉得界面实在不好看或者操作逻辑反人类, 我们欣然认错并表示死活不改. <del>当然您自己写一个也行, 欢迎提PR</del>.

如果您作为iOS用户表示吃柠檬, <del>欢迎向我们捐赠一台Mac用于开发</del>.

我们承诺不上传或记录您的学号及其他个人隐私, 如果怀疑这一点, 您可以选择不用或者自行检查代码.

但我们保留对使用本项目的人数等宏观信息进行统计的权利.

对于使用本项目造成的时间数据金钱绩点损失, 我们概不负责并保留不接受任何抱怨的权利(虽然大部分时间还是会接受), 因为没有人逼着您使用本项目.

## Usage

首先下载[pkurunner-v1.2.5_res.apk](https://github.com/PKUNoRun/PKUNoRun/raw/master/pkurunner-v1.2.5_res.apk),并登录你的账号.

请注意这个修改后的App与原版App不可共存, 请先上传已有的所有跑步记录再卸载原版, 以免跑步记录丢失. 安装修改版后请先登录您的账号, 再完全退出PKU Runner一次, 使PKU Runner把已有的登录信息写入数据库.

然后在`设置/破解功能`中选择导出`data.db`, 例如使用微信发送给文件传输助手什么的(可能被保存成不同类型的文件), 随后请用文件管理器找到这个文件以备后用.

访问[https://hamiltonhuaji.ml](https://hamiltonhuaji.ml), 根据其提示上传`data.db`并修改之. 将被修改过的`data.db`下载到本地后, 从`设置/破解功能`中导入`data.db`. 如果无效果, 随意建立临时账户以进入设置页面, 多导入几次即可.

导入后App由于并不完善,会停止运行(白屏),可以手动清除活动并再次进入.
若导入成功应该可以在`旧账号`中看到之前已经登录的账号.此时通过PKU Runner原有的上传功能上传记录即可.

导出`data.db`的功能自然也可以用作备份跑步记录.

## To Developers

在本目录下执行

```shell
    make
```

即可.

如果想为本项目创建其他的patch,请在完成构建后在`pkurunner-v1.2.5_res/`目录中尽情修改,并执行`make patch`得到新的`pkurunner.patch`.

如果您想检查我们的代码, 也可以在`pkurunner-v1.2.5_res/`目录明中观察.

## Thanks

本项目需要感谢很多人的努力, 但他们都不愿意公开身份.

## Q&A

Q:
    为什么在已安装未修改的PKU Runner的情况下无法安装此项目内的PKU Runner?
A:
    修改过的PKU Runner与原版本包名相同但应用签名不同.Android由于安全问题,会阻止新包的安装.

Q:
    为什么导出`data.db`再导回去后登录会失效,从而回到登录界面?
A:
    第一次登录后需要彻底退出PKU Runner,使其将登录信息写入`data.db`.随后再次打开PKU Runner方可导出.